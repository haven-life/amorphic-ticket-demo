<div class="page-header">
    <div class="pull-right">
        <span b:bind="loggedInPerson.email"></span>
        <a href="#" b:onclick="ticketsFetch()">refresh</a>&nbsp;&nbsp;&nbsp;
        <button b:onclick="newTicket()" type="button" class="btn btn-primary btn-lg">New Ticket</button>
        <button b:onclick="newTicketOnServer()" type="button" class="btn btn-primary btn-lg">Throw Exception</button>
    </div>
    <h1>Tickets</h1>
</div>

<div class="container">
    <table class="table">
        <thead>
        <tr>
            <th>Name</th>
            <th>Created</th>
            <th>By</th>
        </tr>
        </thead>
        <tbody>
        <tr b:iterateon="ticketsGet()" b:iteratewith="row">
            <td><a href="#" b:onclick="ticket=row;route.private.ticket()" b:bind="row.title || 'unnamed'"></a></td>
            <td b:bind="row.created"></td>
            <td b:bind="row.creator ? row.creator.getFullName() : 'unknown'"></td>
            <td><a href="#" b:onclick="ticket=row;deleteTicket()">Delete</a></td>
        </tr>
        </tbody>
    </table>
</div>
